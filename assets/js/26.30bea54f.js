(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{303:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"mongodb-mongodb-學習筆記"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-mongodb-學習筆記"}},[t._v("#")]),t._v(" [MongoDB] mongoDB 學習筆記")]),t._v(" "),s("h3",{attrs:{id:"sql-vs-nosql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sql-vs-nosql"}},[t._v("#")]),t._v(" SQL vs noSQL")]),t._v(" "),s("p",[t._v("sql 指的是關聯式資料庫(relational-database)")]),t._v(" "),s("h2",{attrs:{id:"安裝-mongodb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安裝-mongodb"}},[t._v("#")]),t._v(" 安裝 mongoDB")]),t._v(" "),s("p",[t._v("依序為以下步驟：")]),t._v(" "),s("ol",[s("li",[t._v("透過 brew 安裝 mongoDB")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("brew "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" mongodb-community@version\n")])])]),s("blockquote",[s("p",[s("strong",[t._v("mongoDB 6.0")]),t._v(" 後可使用 "),s("em",[t._v("homebrew")]),t._v(" 來安裝")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("啟動 mongodb")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("brew services start mongodb-community@6.0\nmongosh\n")])])]),s("p",[t._v("可以使用 "),s("code",[t._v("brew service list")]),t._v(" 確認當前有哪些資料庫在運行，也能確認 mongodb 是否啟動了。")]),t._v(" "),s("h2",{attrs:{id:"操作指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#操作指令"}},[t._v("#")]),t._v(" 操作指令")]),t._v(" "),s("h3",{attrs:{id:"基本操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本操作"}},[t._v("#")]),t._v(" 基本操作")]),t._v(" "),s("ol",[s("li",[s("p",[s("code",[t._v("show dbs")]),t._v(" 檢視 "),s("strong",[t._v("本地資料庫數量")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.imgur.com/PExstL6.png",alt:""}})])]),t._v(" "),s("li",[s("p",[s("code",[t._v("use + [dbName]")]),t._v(" 切換資料庫\n當嘗試切換 不存在的資料庫時，mongodb 會直接幫你建立一個新的資料庫")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.imgur.com/JXZqS64.png",alt:""}})])]),t._v(" "),s("li",[s("p",[s("code",[t._v("show collectios")]),t._v(" 顯示當前資料庫名稱，如我現在在 "),s("code",[t._v("test")]),t._v(" 這個資料庫")]),t._v(" "),s("p",[t._v("![[Pasted image 20220926205856.png]]\n"),s("img",{attrs:{src:"https://i.imgur.com/5yHT8i7.png",alt:""}})])])]),t._v(" "),s("h3",{attrs:{id:"資料庫操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#資料庫操作"}},[t._v("#")]),t._v(" 資料庫操作")]),t._v(" "),s("p",[t._v("我們對資料最常見的操作如所謂的 CRUD，在 mongoDB 也能執行，分別是：")]),t._v(" "),s("ol",[s("li",[t._v("insert - (C)")]),t._v(" "),s("li",[t._v("find - (R)")]),t._v(" "),s("li",[t._v("update - (u)")]),t._v(" "),s("li",[t._v("delet - (d)")])]),t._v(" "),s("h3",{attrs:{id:"insert"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#insert"}},[t._v("#")]),t._v(" insert")]),t._v(" "),s("p",[t._v("有以下幾種方法：")]),t._v(" "),s("ol",[s("li",[t._v("儲存單筆資料：document 資料架構可以想成是 javascript 的 object，能將資料以陣列形式存入，但會內容被自動拆成"),s("strong",[t._v("物件形式")]),t._v("。")])]),t._v(" "),s("p",[t._v("今天我們將一個資料如下：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("db."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("資料庫"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".insertOne"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1,2")]),t._v(",3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("接著我們讀取這筆資料")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("db."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("collectionName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".find"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n /* "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0'")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(", _id: ObjectId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"6331a488f7ec354d9cbf0d1e"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" */\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("儲存多筆資料：資料須以"),s("strong",[t._v("陣列格式")]),t._v("傳入")])]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("db."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("資料庫"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".insertMany"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1,2")]),t._v(",3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("hr"),t._v(" "),s("h3",{attrs:{id:"find"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#find"}},[t._v("#")]),t._v(" find")]),t._v(" "),s("p",[t._v("透過以下指令來尋找資料：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("db."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("資料庫"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".find"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"update"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#update"}},[t._v("#")]),t._v(" update")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("db.[collectionName].updateOne(<filter>,<update>,{options})\ndb.[collectionName].updateMany(<filter>,<update>,{options})\ndb.[collectionName].replaceOne(<filter>,<update>,{options})\n")])])]),s("ol",[s("li",[t._v("當"),s("code",[t._v("<filter>")]),t._v(" 是空值時，會回傳資料庫內第一筆資料進行修改")]),t._v(" "),s("li",[s("code",[t._v("options")]),t._v(" 可以加入像是：資料最後變更日期")])])])}),[],!1,null,null,null);s.default=e.exports}}]);